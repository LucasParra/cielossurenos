(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{650:function(e,n,t){"use strict";t.d(n,"g",(function(){return d})),t.d(n,"a",(function(){return D})),t.d(n,"b",(function(){return h})),t.d(n,"d",(function(){return m})),t.d(n,"j",(function(){return l})),t.d(n,"r",(function(){return b})),t.d(n,"s",(function(){return p})),t.d(n,"p",(function(){return j})),t.d(n,"i",(function(){return O})),t.d(n,"h",(function(){return I})),t.d(n,"e",(function(){return q})),t.d(n,"f",(function(){return A})),t.d(n,"c",(function(){return x})),t.d(n,"q",(function(){return v})),t.d(n,"m",(function(){return U})),t.d(n,"k",(function(){return k})),t.d(n,"o",(function(){return g})),t.d(n,"n",(function(){return T})),t.d(n,"l",(function(){return S}));var r=t(23),c=t(653),u=t.n(c),o=t(51),s=t(667),a=t(660),i=t(654),f=t(657),d=function(){return o.supabase.from("User").select("*").eq("RolID",1).then((function(e){return e.data})).catch(console.error)},l=function(e){return o.supabase.from("User").select("*").eq("Rut",e).then((function(e){return e.data})).catch(console.error)},I=function(e){return o.supabase.from("User").select("*,RolID(*),ZoneID:UserAddress(AddressID(AddressZoneID))").eq("Email",e).then((function(e){return e.data})).catch(console.error)},D=function(e){return o.supabase.from("User").insert(e).then((function(e){return e.data[0].ID}))},h=function(e){return o.supabase.from("UserAddress").insert(e).then((function(e){return e.data[0].ID}))},m=function(e){return o.supabase.from("UserProduct").insert(e).then((function(e){return e.data[0].ID}))},b=function(e){return o.supabase.from("User").update(e).eq("ID",e.ID)},j=function(e){return o.supabase.from("UserAddress").update(e).eq("ID",e.ID)},p=function(e){return o.supabase.from("UserProduct").update(e).eq("ID",e.ID)},O=function(e){return o.supabase.from("User").select("*,UserAddress!inner(Address(*,AddressZoneID(*)))").eq("ID",e).then((function(e){return e.data[0]})).catch(console.error)},U=function(e,n){return o.supabase.from("User").select("*").eq("RolID",2).ilike("Rut","%".concat(n,"%")).limit(5*e+1).then((function(e){return e.data})).catch(console.error)},q=function(e,n){return o.supabase.from("User").select("*",{count:"exact"}).eq("RolID",2).eq("StateID",e).then((function(t){return{count:t.count,name:n,stateID:e}})).catch(console.error)},A=function(e,n){return o.supabase.from("OfficeUser").select("User!inner(*),Office!inner(*)",{count:"exact"}).eq("User.RolID",2).eq("User.StateID",n).eq("Office.ID",e).then((function(e){return e.count})).catch(console.error)},x=function(e,n,t,c){D(e).then((function(u){Promise.all([n.map((function(e){return m(Object(r.a)(Object(r.a)({},e),{},{UserID:u}))})),Object(i.b)({TypeID:1,AssignedID:e.TechnicianID,ClientID:u}),Object(a.a)(u,c),t.map((function(e){return Object(s.a)(e).then((function(e){h({AddressID:e,UserID:u})}))}))])}))},v=function(e,n,t,c){return b(e).then((function(){Promise.all([n.map((function(n){return n.ID?p(Object(r.a)(Object(r.a)({},n),{},{UserID:e.ID})):m(Object(r.a)(Object(r.a)({},n),{},{UserID:e.ID}))})),Object(a.g)(e.ID,c),t.map((function(n){return n.ID?Object(s.c)(n).then((function(n){j({AddressID:n,UserID:e.ID})})):Object(s.a)(n).then((function(n){h({AddressID:n,UserID:e.ID})}))}))])}))},k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return o.supabase.from("User").select("*,Address(*)").or("Names.ilike.%".concat(e,"%,LastName.ilike.%").concat(e,"%,Rut.ilike.%").concat(e,"%")).eq("RolID",2).limit(5*n+1).then((function(e){return e.data})).catch(console.error)},g=function(e,n){return Object(f.d)(n).then((function(n){var t=n[u.a.random(0,n.length-1)];b({ID:e,StateID:5}).then((function(){Object(i.b)({TypeID:16,AssignedID:t.User.ID,ClientID:e,StateID:3})}))}))},T=function(e,n){return Object(f.d)(n).then((function(n){var t=n[u.a.random(0,n.length-1)];b({ID:e,StateID:6}).then((function(){Object(i.b)({TypeID:17,AssignedID:t.User.ID,ClientID:e,StateID:3})}))}))},S=function(){return o.supabase.from("UserState").select("*").then((function(e){return e.data})).catch(console.error)}},654:function(e,n,t){"use strict";t.d(n,"b",(function(){return o})),t.d(n,"j",(function(){return s})),t.d(n,"i",(function(){return a})),t.d(n,"k",(function(){return i})),t.d(n,"g",(function(){return f})),t.d(n,"d",(function(){return d})),t.d(n,"c",(function(){return I})),t.d(n,"e",(function(){return l})),t.d(n,"f",(function(){return D})),t.d(n,"a",(function(){return h})),t.d(n,"h",(function(){return m}));var r=t(23),c=t(657),u=t(51).supabase,o=function(e){return u.from("Task").insert(Object(r.a)(Object(r.a)({},e),{},{Priority:"Media"})).then((function(e){return console.log(e)}))},s=function(){return u.from("TaskType").select("*").then((function(e){return e.data}))},a=function(e){return u.from("Task").select("*,TypeID(Name)").order("ID",{ascending:!1}).eq("ClientID",e).then((function(e){return e.data})).catch(console.error)},i=function(e){return u.from("Task").update(e).eq("ID",e.ID)},f=function(e){return u.from("Task").select("*").order("ID",{ascending:!1}).eq("ClientID",e).or("StateID.eq.1,StateID.eq.3,TypeID.eq.4").then((function(e){return e.data})).catch(console.error)},d=function(e){return u.from("Task").update({StateID:2}).eq("ID",e).then((function(e){return e.data[0].ID}))},l=function(e){return u.from("Task").update({StateID:2}).eq("StateID",3).eq("ClientID.ID",e).eq("TypeID.ID",16).then((function(e){return e.data}))},I=function(e,n){return Object(c.c)(e).then((function(e){return o(Object(r.a)(Object(r.a)({},n),{},{AssignedID:e[0].User.ID,StateID:3}))}))},D=function(e){return u.from("TaskComments").select("*,UserID(Names,LastName)").eq("TaskID",e).then((function(e){return e.data}))},h=function(e){return u.from("TaskComments").insert(e).then((function(e){var n;return null===e||void 0===e||null===(n=e.data[0])||void 0===n?void 0:n.ID}))},m=function(){return u.from("TaskState").select("*,Task!inner(*)").then((function(e){return e.data}))}},657:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"e",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"d",(function(){return a})),t.d(n,"b",(function(){return i}));var r=t(51).supabase,c=function(e){return r.from("Zones").insert(e).then((function(e){return e.data[0].ID}))},u=function(e,n){return r.from("Zones").update(n).eq("ID",e)},o=function(){return r.from("Zones").select("*").then((function(e){return e.data})).catch(console.error)},s=function(e){return r.from("UserAddress").select("User!inner(*),Address!inner(*)").eq("User.RolID",8).eq("Address.AddressZoneID",e).then((function(e){return e.data})).catch(console.error)},a=function(e){return r.from("UserAddress").select("User!inner(*),Address!inner(*)").eq("User.RolID",1).eq("Address.AddressZoneID",e).then((function(e){return e.data})).catch(console.error)},i=function(e){return r.from("UserAddress").select("User!inner(*),Address!inner(*)").eq("User.RolID",2).ilike("Address.AddressName","%".concat(e,"%")).then((function(e){return e.data})).catch(console.error)}},660:function(e,n,t){"use strict";t.d(n,"b",(function(){return c})),t.d(n,"f",(function(){return u})),t.d(n,"a",(function(){return s})),t.d(n,"d",(function(){return a})),t.d(n,"g",(function(){return o})),t.d(n,"e",(function(){return i})),t.d(n,"c",(function(){return f}));var r=t(51).supabase,c=function(e){return r.from("Office").insert(e).then((function(e){return e.data[0].ID}))},u=function(e,n){return r.from("Office").update(n).eq("ID",e)},o=function(e,n){return r.from("OfficeUser").update({OfficeID:n}).eq("UserID",e).then((function(e){return e.data})).catch(console.error)},s=function(e,n){return r.from("OfficeUser").insert({OfficeID:n,UserID:e}).then((function(e){return e.data[0].ID}))},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return r.from("Office").select("*").limit(5*e+1).then((function(e){return e.data}))},i=function(e){return r.from("OfficeUser").select("*,OfficeID(*)").eq("UserID",e).then((function(e){return e.data[0]}))},f=function(e){return r.from("Office").delete().match({ID:e})}},667:function(e,n,t){"use strict";t.d(n,"a",(function(){return c})),t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return u}));var r=t(51),c=function(e){return r.supabase.from("Address").insert(e).then((function(e){return e.data[0].ID}))},u=function(e){return r.supabase.from("Address").update(e).eq("ID",e.ID)},o=function(e){return r.supabase.from("UserAddress").select("*,Address (*)").eq("UserID",e).then((function(e){return e.data})).catch(console.error)}},764:function(e,n,t){"use strict";t.r(n);var r=t(23),c=t(91),u=t(2),o=t(646),s=t(649),a=t(51),i=t(650),f=t(175),d=t(17);n.default=function(){var e=Object(f.b)(),n=Object(u.useState)({email:"",password:""}),t=Object(c.a)(n,2),l=t[0],I=t[1],D=Object(u.useState)(!1),h=Object(c.a)(D,2),m=h[0],b=h[1];return Object(d.jsx)("div",{className:"c-app c-default-layout flex-row align-items-center",children:Object(d.jsx)(o.w,{children:Object(d.jsx)(o.tb,{className:"justify-content-center",children:Object(d.jsx)(o.u,{md:"5",children:Object(d.jsx)(o.m,{children:Object(d.jsx)(o.j,{className:"p-4",children:Object(d.jsx)(o.k,{children:Object(d.jsxs)(o.J,{children:[Object(d.jsx)("h1",{children:"Bienvenido!!!"}),m?Object(d.jsxs)("p",{className:"text-danger",children:["Usuario o contrase\xf1a incorrectos"," "]}):Object(d.jsx)("p",{className:"text-muted",children:"Ingresa tu Cuenta"}),Object(d.jsxs)(o.S,{className:"mb-3",children:[Object(d.jsx)(o.U,{children:Object(d.jsx)(o.V,{children:Object(d.jsx)(s.a,{name:"cil-user"})})}),Object(d.jsx)(o.P,{type:"email",placeholder:"email",autoComplete:"email",style:{borderColor:m?"red":"#9999"},onChange:function(e){var n=e.target.value;return I(Object(r.a)(Object(r.a)({},l),{},{email:n}))},value:l.email})]}),Object(d.jsxs)(o.S,{className:"mb-4",children:[Object(d.jsx)(o.U,{children:Object(d.jsx)(o.V,{children:Object(d.jsx)(s.a,{name:"cil-lock-locked"})})}),Object(d.jsx)(o.P,{type:"password",placeholder:"Password",autoComplete:"current-password",style:{borderColor:m?"red":"#9999"},onChange:function(e){var n=e.target.value;return I(Object(r.a)(Object(r.a)({},l),{},{password:n}))},value:l.password})]}),Object(d.jsx)(o.tb,{children:Object(d.jsx)(o.u,{xs:"6",children:Object(d.jsx)(o.f,{color:"primary",className:"px-4",onClick:function(){return a.supabase.auth.signIn(l).then((function(n){var t=n.user.email;return Object(i.h)(t).then((function(n){return e({type:"SET_USER",payload:n[0]})}))})).catch((function(){return b(!0)}))},children:"Ingresar"})})})]})})})})})})})})}}}]);
//# sourceMappingURL=18.994cce03.chunk.js.map