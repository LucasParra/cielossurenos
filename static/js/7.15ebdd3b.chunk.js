(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[7],{658:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"l",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return m})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return b})),n.d(t,"j",(function(){return a})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return O}));var c=n(655),r=n.n(c),o=n(51).supabase,a=function(e){return o.from("ChargeType").select("*").limit(5*e+1).then((function(e){return e.data})).catch(console.error)},i=function(e){return o.from("Charge").insert(e).then((function(e){return e.data})).catch(console.error)},s=function(e){return o.from("Charge").delete().match({ID:e}).then((function(e){return e.data}))},u=function(e,t){return o.from("Charge").update(e).eq("ID",t).then((function(e){return e.data})).catch(console.error)},l=function(){return o.from("User").select("*").eq("RolID",2).then((function(e){e.data.map((function(e){return o.from("UserProduct").select("Product(*),ID,Price").eq("UserID",e.ID).then((function(t){var n=t.data;return 0===n.length?null:i({ChargeTypeID:7,CreatedAt:r()().toDate(),Charge:n.reduce((function(e,t){return e+t.Product.BasePrice}),0),ClientID:e.ID,State:!1,Remaining:0})}))}))})).catch(console.error)},d=function(e){return o.from("Charge").select("*,ChargeTypeID(*)").eq("ClientID",e).eq("State",!1).then((function(e){return e.data}))},f=function(e){return o.from("Charge").select("*,ChargeTypeID(*)").eq("ClientID",e).order("CreatedAt",{ascending:!0}).then((function(e){return e.data}))},j=function(e,t,n){return o.from("Charge").update({State:!0,UrlImage:t,DocumentID:n.id,UrlDocument:n.urlPublicView}).eq("ID",e).then((function(e){return e.data}))},m=function(e){return o.from("ChargeType").insert(e).then((function(e){return e.data})).catch(console.error)},b=function(){return o.from("ChargeType").select("*").then((function(e){return e.data})).catch(console.error)},h=function(e,t){return o.from("ChargeType").update(t).eq("ID",e)},p=function(e){return o.from("ChargeType").delete().match({ID:e}).then((function(e){return e.data}))},O=function(e){return o.from("Charge").select("*",{count:"exact"}).eq("ChargeTypeID",e).then((function(e){return e.count}))}},668:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var c=n(51).supabase,r=function(e){return c.from("Discount").insert(e).then((function(e){return e.data})).catch(console.error)},o=function(e,t){return c.from("Discount").update(e).eq("ID",t).then((function(e){return e.data})).catch(console.error)}},682:function(e,t,n){"use strict";var c=n(23),r=n(91),o=n(763),a=n(649),i=n(646),s=n(2),u=n(51),l=n(668),d=n(655),f=n.n(d),j=n(652),m=n(654),b=n(17),h=["ID","tipoDescuento","cantidad","editar","eliminar"];t.a=function(e){var t,n=e.userID,d=Object(j.a)(["user"]).user,p=Object(s.useState)([]),O=Object(r.a)(p,2),g=O[0],D=O[1],x=Object(s.useState)([]),v=Object(r.a)(x,2),I=v[0],y=v[1],C=Object(s.useState)(new Date),T=Object(r.a)(C,2),N=T[0],S=T[1],w=Object(s.useState)("$"),A=Object(r.a)(w,2),P=A[0],U=A[1],k=Object(s.useState)(0),L=Object(r.a)(k,2),F=L[0],R=L[1],q=Object(s.useState)("0"),E=Object(r.a)(q,2),Z=E[0],M=E[1],B=Object(s.useState)(!1),z=Object(r.a)(B,2),Y=z[0],$=z[1],H=Object(s.useState)(""),_=Object(r.a)(H,2),J=_[0],V=_[1],G=Object(s.useState)(""),K=Object(r.a)(G,2),W=K[0],X=K[1],Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;$(!0),Promise.all([u.supabase.from("Discount").select("*,DiscountType(Name),User(Names,LastName)").limit(2*e+1).eq("ClientID",n).then((function(e){return e.data})),u.supabase.from("DiscountType").then((function(e){return e.data}))]).then((function(e){var t=e[0],n=e[1];y(n),D(t.map((function(e){return Object(c.a)(Object(c.a)({},e),{},{tipoDescuento:e.DiscountType.Name,cantidad:"".concat(e.IsPercentage?"":"$").concat(e.Discount).concat(e.IsPercentage?"%":"")})}))),$(!1)}))},ee=function(){Q(),M("0"),S(new Date),R(0),X("")};return Object(s.useEffect)(Q,[n]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)(i.tb,{style:{margin:10,marginBottom:20},children:[Object(b.jsxs)(i.u,{col:"2",children:[Object(b.jsx)(i.Z,{htmlFor:"DiscountType",children:"Tipo de descuento"}),Object(b.jsxs)(i.ub,{custom:!0,size:"xl",name:"DiscountType",id:"DiscountType",value:Z,onChange:function(e){var t=e.target.value;return M(t)},children:[Object(b.jsx)("option",{value:"0",children:"Selecciona una opcion"}),I.map((function(e){return Object(b.jsx)("option",{value:e.ID,children:e.Name},e.ID)}))]})]}),Object(b.jsxs)(i.u,{col:"2",children:[Object(b.jsx)(i.Z,{htmlFor:"DiscountType",children:"Descuento"}),Object(b.jsxs)(i.S,{children:[Object(b.jsxs)(i.z,{className:"input-group-prepend",children:[Object(b.jsx)(i.E,{caret:!0,color:"secondary",children:P}),Object(b.jsxs)(i.D,{children:[Object(b.jsx)(i.C,{value:"$",onClick:function(){return U("$")},children:"$"}),Object(b.jsx)(i.C,{value:"%",onClick:function(){return U("%")},children:"%"})]})]}),Object(b.jsx)(i.P,{id:"Discount",name:"Discount",value:F,onChange:function(e){var t=e.target.value;return R("$"===P||t<=100?t:0)}})]})]}),"1"===Z&&Object(b.jsxs)(i.u,{style:{marginBottom:8},xs:"12",sm:"3",children:[Object(b.jsx)(i.Z,{htmlFor:"FechCon",children:"Fecha Expiracion"}),Object(b.jsx)(i.P,{id:"expiration",type:"date",placeholder:"",required:!0,value:f()(N).format("YYYY-MM-DD"),onChange:function(e){var t=e.target.value;return S(f()(t).toDate())}})]}),7===(null===d||void 0===d||null===(t=d.RolID)||void 0===t?void 0:t.ID)&&Object(b.jsx)(i.tb,{children:Object(b.jsx)(i.u,{xs:"12",children:Object(b.jsxs)(i.K,{children:[Object(b.jsx)(i.Z,{htmlFor:"priceBase",children:"Nota para el administrador"}),Object(b.jsx)(i.Gb,{id:"name",value:W,onChange:function(e){var t=e.target.value;return X(t)}})]})})}),Object(b.jsx)(i.u,{col:"2",children:Object(b.jsx)(i.f,{color:"success",style:{marginTop:28},onClick:function(){if(7===d.RolID.ID)return Object(m.c)(d.ZoneID[0].AddressID.AddressZoneID,{TypeID:""===J?13:14,ClientID:d.ID,Note:W,Data:{TypeID:Z,ClientID:n,Discount:F,IsPercentage:"%"===P,Temporality:N,ID:""!==J?J:null}}).then(ee),null;""===J?Object(l.a)({TypeID:Z,ClientID:n,Discount:F,IsPercentage:"%"===P,Temporality:N}).then(ee):Object(l.b)({TypeID:Z,ClientID:n,Discount:F,IsPercentage:"%"===P,Temporality:N},J).then(ee)},children:""!==J?"Editar Descuento":"A\xf1adir Descuento"})}),""!==J&&Object(b.jsx)(i.u,{col:"2",children:Object(b.jsx)(i.f,{color:"danger",style:{marginTop:28},onClick:function(){Q(),M("0"),R(0),V("")},children:"Cancelar edicion"})})]}),Object(b.jsx)(i.tb,{children:Object(b.jsx)(i.y,{items:g,fields:h,itemsPerPage:2,onPageChange:Q,pagination:!0,loading:Y,scopedSlots:{eliminar:function(e){return Object(b.jsx)("td",{className:"py-2",children:Object(b.jsx)(i.tb,{className:"align-items-center",children:Object(b.jsx)(i.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(b.jsx)(i.f,{color:"danger",onClick:function(){return t=e.ID,u.supabase.from("Discount").delete().match({ID:t}).then(ee);var t},children:Object(b.jsx)(a.a,{content:o.a.cilTrash,size:"xl"})})})})})},editar:function(e){return Object(b.jsx)("td",{className:"py-2",children:Object(b.jsx)(i.tb,{className:"align-items-center",children:Object(b.jsx)(i.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(b.jsx)(i.f,{color:"info",onClick:function(){V(e.ID),U(e.IsPercentage?"%":"$"),R(e.Discount),M(e.TypeID)},children:Object(b.jsx)(a.a,{content:o.a.cilPencil,size:"xl"})})})})})}}})})]})}},689:function(e,t,n){"use strict";var c=n(23),r=n(91),o=n(2),a=n(763),i=n(649),s=n(646),u=n(51),l=n(653),d=n.n(l),f=n(658),j=n(655),m=n.n(j),b=n(704),h=n(671),p=n(654),O=n(652),g=n(651),D=n(51).supabase,x=new Headers;x.append("access_token","bc58910097a6d35d4049ff5d49b46c1da34ddbec"),x.append("Content-Type","application/json");var v=n(657),I=n(17),y=["ID","fecha","cargo","monto","opciones","eliminar"];t.a=function(e){var t=e.userID,n=e.type,l=e.client,j=e.setRefreshPayments,C=e.refreshPayments,T=Object(O.a)(["user"]).user,N=Object(o.useState)([]),S=Object(r.a)(N,2),w=S[0],A=S[1],P=Object(o.useState)(!1),U=Object(r.a)(P,2),k=U[0],L=U[1],F=Object(o.useState)(null),R=Object(r.a)(F,2),q=R[0],E=R[1],Z=Object(o.useState)([]),M=Object(r.a)(Z,2),B=M[0],z=M[1],Y=Object(o.useState)([]),$=Object(r.a)(Y,2),H=$[0],_=$[1],J=Object(o.useState)({}),V=Object(r.a)(J,2),G=V[0],K=V[1],W=Object(o.useState)(""),X=Object(r.a)(W,2),Q=X[0],ee=X[1],te=Object(o.useState)(!1),ne=Object(r.a)(te,2),ce=ne[0],re=ne[1],oe=Object(o.useState)(""),ae=Object(r.a)(oe,2),ie=ae[0],se=ae[1],ue=Object(o.useState)([]),le=Object(r.a)(ue,2),de=le[0],fe=le[1],je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;re(!0),Promise.all([u.supabase.from("Charge").select("*,ChargeTypeID(*)").eq("ClientID",t).limit(5*e+1).order("CreatedAt",{ascending:!1}).then((function(e){return e.data})),Object(f.k)()]).then((function(e){var t=e[0],n=e[1];_(n),A(t.map((function(e){return Object(c.a)({ID:e.ID,cargo:e.ChargeTypeID.Name,monto:new Intl.NumberFormat("es-CL",{currency:"CLP",style:"currency"}).format(e.Charge),fecha:m()(e.CreatedAt).format("DD-MM-YYYY")},e)}))),re(!1),j(!1)}))};return Object(o.useEffect)(je,[C,j,t]),Object(I.jsxs)(s.J,{className:k?"was-validated":"",children:[Object(I.jsxs)(s.tb,{style:{margin:10,marginBottom:20},className:"align-items-center",children:["pay"===n?Object(I.jsx)(I.Fragment,{children:Object(I.jsxs)(s.u,{col:"2",children:[Object(I.jsx)(s.Z,{htmlFor:"charges",style:{color:k?"red":"#000"},children:k?"Debe seleccionar almenos un cargo":"cargos"}),Object(I.jsx)(h.a,{isMulti:!0,name:"charges",required:!0,options:w.filter((function(e){return!e.State})).map((function(e){return{value:e.ID,amount:parseInt(e.Charge),name:e.cargo,label:"".concat(e.cargo," | ").concat(e.monto," | ").concat(e.fecha),ID:e.ID}})),className:"basic-multi-select",classNamePrefix:"select",value:B,onChange:function(e){z(e),e.map((function(e){var t=e.value;return E(q+parseInt(t))}))}})]})}):Object(I.jsxs)(I.Fragment,{children:[Object(I.jsxs)(s.u,{col:"2",children:[Object(I.jsx)(s.Z,{htmlFor:"amount",children:"Monto"}),Object(I.jsx)("div",{className:"controls",children:Object(I.jsxs)(s.S,{className:"input-prepend",children:[Object(I.jsx)(s.U,{children:Object(I.jsx)(s.V,{children:"$"})}),Object(I.jsx)(s.P,{id:"amount",size:"16",type:"number",onChange:function(e){var t=e.target.value;return E(parseInt(t))},required:!0,value:q})]})})]}),Object(I.jsxs)(s.u,{col:"2",children:[Object(I.jsx)(s.Z,{htmlFor:"amount",style:{color:k?"red":"#000"},children:k?"Debe seleccionar un tipo":"Tipo"}),Object(I.jsx)(h.a,{name:"colors",options:H.map((function(e){return{value:e.ID,label:e.Name,ID:e.ID}})),required:!0,className:"basic-multi-select",classNamePrefix:"select",value:G,onChange:function(e){K(e)}})]})]}),"pay"===n&&Object(I.jsx)(I.Fragment,{children:Object(I.jsx)(s.u,{xs:"2",children:Object(I.jsx)(s.f,{color:"info",children:Object(I.jsx)(g.b,{onChange:function(e){var t=e.target.files;return fe(t)},children:"Subir Archivo"})})})}),Object(I.jsx)(s.u,{col:"2",style:{paddingTop:30},children:Object(I.jsx)(s.f,{color:"success",onClick:function(){return"pay"===n?0===B.length?L(!0):function(e,t){var n,c,r,o=JSON.stringify({documentTypeId:e.Business?11:10,officeId:1,coinId:1,emissionDate:m()().unix(),expirationDate:m()().unix(),totalAmount:t.reduce((function(e,t){return e+t.amount}),0),client:{city:"Temuco",company:"".concat(e.Names," ").concat(e.LastName),code:e.Rut,municipality:null===e||void 0===e||null===(n=e.UserAddress[0])||void 0===n?void 0:n.Address.AddressZoneID.Name,activity:"Importadores",address:"".concat(null===e||void 0===e||null===(c=e.UserAddress[0])||void 0===c?void 0:c.Address.AddressName," ").concat(null===e||void 0===e||null===(r=e.UserAddress[0])||void 0===r?void 0:r.Address.AddressNumber),isForeigner:1},details:t.map((function(e){return{netUnitValue:e.amount,quantity:1,comment:e.name,discount:0}}))});return fetch("https://api.bsale.cl/v1/documents.json",{method:"POST",headers:x,body:o,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))}(l,B).then((function(e){window.open(e.urlPublicView,"_blank");var n="".concat(m()().unix(),".jpg");return de[0]&&function(e,t){D.storage.from("charges").upload(e,t,{cacheControl:"3600",upsert:!1}).then((function(e){return console.log(e)}))}(n,de[0]),Promise.all(B.map((function(t){return Object(f.d)(t.ID,de[0]?n:null,e)}))).then((function(){L(!1),1===w.filter((function(e){return!e.State})).length&&Object(p.g)(t).then((function(e){e.length>0?Object(p.d)(e[0].ID):Object(v.d)(null===T||void 0===T?void 0:T.ZoneID[0].AddressID.AddressZoneID).then((function(e){var n=e[d.a.random(0,e.length-1)];Object(p.b)({TypeID:5,AssignedID:n.User.ID,ClientID:t,StateID:1,Note:"Conectar a este usuario "})}))})),E(0),z([]),je(),j(!0)}))})):null===q||0===G.length?L(!0):(""===ie?(1===w.filter((function(e){return!e.State})).length&&Object(v.d)(null===T||void 0===T?void 0:T.ZoneID[0].AddressID.AddressZoneID).then((function(e){var n=e[d.a.random(0,e.length-1)];Object(p.b)({TypeID:4,AssignedID:n.User.ID,ClientID:t,StateID:1,Note:"desconectar a este usuario ya que paso a estado moroso"})})),Object(f.c)({ChargeTypeID:G.ID,CreatedAt:m()().toDate(),Charge:q,ClientID:t,State:!1,Remaining:0}).then((function(){j(!0),je(),K({}),ee(0),E(0)}))):Object(f.l)({ChargeTypeID:G.ID,Name:Q,Charge:q,ClientID:t},ie).then((function(){je(),ee(0),K({}),E(0),se("")})),void L(!1))},children:"pay"!==n?""!==ie?"opciones Cargo":"A\xf1adir Cargo":"Crear Pago"})}),"pay"!==n&&""!==ie&&Object(I.jsx)(s.u,{col:"2",style:{paddingTop:30},children:Object(I.jsx)(s.f,{color:"danger",onClick:function(){je(),ee(0),E(0),se("")},children:"Cancelar Edicion"})})]}),Object(I.jsxs)(s.tb,{children:[Object(I.jsx)(s.y,{items:w.filter((function(e){var t=e.State;return"pay"===n?!0===t:!1===t})),fields:y,itemsPerPage:5,onPageChange:je,pagination:!0,loading:ce,scopedSlots:{eliminar:function(e){return Object(I.jsx)("td",{className:"py-2",children:Object(I.jsx)(s.tb,{className:"align-items-center",children:Object(I.jsx)(s.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(I.jsx)(s.f,{color:"danger",onClick:function(){var t;(t=e.DocumentID,fetch("https://api.bsale.cl/v1/documents/".concat(t,"/details.json"),{method:"GET",headers:x,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))).then((function(t){(function(e,t,n){var c,r,o,a=JSON.stringify({motive:"prueba api",declareSii:1,priceAdjustment:0,editTexts:0,type:1,documentTypeId:12,officeId:1,emissionDate:m()().unix(),expirationDate:m()().unix(),referenceDocumentId:t,priceListId:27,client:{city:"Temuco",company:"".concat(e.Names," ").concat(e.LastName),code:e.Rut,municipality:null===e||void 0===e||null===(c=e.UserAddress[0])||void 0===c?void 0:c.Address.AddressZoneID.Name,activity:"Importadores",address:"".concat(null===e||void 0===e||null===(r=e.UserAddress[0])||void 0===r?void 0:r.Address.AddressName," ").concat(null===e||void 0===e||null===(o=e.UserAddress[0])||void 0===o?void 0:o.Address.AddressNumber),isForeigner:1},details:[{documentDetailId:n,quantity:1,unitValue:0}],payments:[{recordDate:1565095797,amount:11900,paymentTypeId:10}]});return fetch("https://api.bsale.cl/v1/returns.json",{method:"POST",headers:x,body:a,redirect:"follow"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){return console.log("error",e)}))})(l,e.DocumentID,t.items[0].id).then((function(){return Object(f.f)(e.ID).then((function(){re(!1),je()}))}))}))},children:Object(I.jsx)(i.a,{content:a.a.cilTrash,size:"xl"})})})})})},opciones:function(e){return Object(I.jsx)("td",{className:"py-2",children:Object(I.jsx)(s.tb,{className:"align-items-center",children:"pay"!==n?Object(I.jsx)(s.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(I.jsx)(s.f,{color:"info",onClick:function(){var t;(null===(t=e.ChargeTypeID)||void 0===t?void 0:t.ID)&&K(Object(c.a)(Object(c.a)({},e.ChargeTypeID),{},{label:e.ChargeTypeID.Name})),ee(e.nombre),E(parseInt(e.Charge)),se(e.ID)},children:Object(I.jsx)(i.a,{content:a.a.cilPencil,size:"xl"})})}):Object(I.jsxs)(I.Fragment,{children:[e.UrlImage&&Object(I.jsx)(s.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(I.jsx)(s.f,{color:"info",onClick:function(){var t=function(e){return D.storage.from("charges").getPublicUrl(e)}(e.UrlImage).publicURL;Object(b.saveAs)(t,"".concat(m()().unix(),".jpg"))},children:Object(I.jsx)(i.a,{content:a.a.cilFile,size:"xl"})})}),e.UrlDocument&&Object(I.jsx)(s.u,{col:"2",xs:"2",sm:"2",md:"2",className:"mb-2 mb-xl-0",children:Object(I.jsx)(s.f,{color:"info",onClick:function(){return window.open(e.UrlDocument,"_blank")},children:Object(I.jsx)(i.a,{content:a.a.cilCloudDownload,size:"xl"})})})]})})})}}}),"pay"!==n&&Object(I.jsx)(s.Z,{htmlFor:"charges",style:{marginLeft:18,fontSize:18,fontWeight:"bold"},children:"Deuda Total : ".concat(new Intl.NumberFormat("es-CL",{currency:"CLP",style:"currency"}).format(w.filter((function(e){return!1===e.State})).reduce((function(e,t){return parseInt(t.Charge)+e}),0)))})]})]})}},704:function(e,t,n){(function(n){var c,r,o;r=[],void 0===(o="function"===typeof(c=function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function c(e,t,n){var c=new XMLHttpRequest;c.open("GET",e),c.responseType="blob",c.onload=function(){s(c.response,t,n)},c.onerror=function(){console.error("could not download file")},c.send()}function r(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(c){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n&&n.global===n?n:void 0,i=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),s=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!i?function(e,t,n){var i=a.URL||a.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin===location.origin?o(s):r(s.href)?c(e,t,n):o(s,s.target="_blank")):(s.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,a){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,a),n);else if(r(e))c(e,n,a);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){o(i)}))}}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof e)return c(e,t,n);var o="application/octet-stream"===e.type,s=/constructor/i.test(a.HTMLElement)||a.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&s||i)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=e:location=e,r=null},l.readAsDataURL(e)}else{var d=a.URL||a.webkitURL,f=d.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout((function(){d.revokeObjectURL(f)}),4e4)}});a.saveAs=s.saveAs=s,e.exports=s})?c.apply(t,r):c)||(e.exports=o)}).call(this,n(119))}}]);
//# sourceMappingURL=7.15ebdd3b.chunk.js.map